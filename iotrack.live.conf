<VirtualHost *:80>
    ServerName chesslog.chrisfarrugia.dev

    ProxyPreserveHost On
    ProxyRequests Off

    # --------------------------
    # 1. MAIN BACKEND API
    # --------------------------
    ProxyPass        "/api/"  "http://127.0.0.1:4567/api/"
    ProxyPassReverse "/api/"  "http://127.0.0.1:4567/api/"

    # --------------------------
    # 2. FRONTEND SPA ROUTES
    # (Vue SPA served by the Go SPA handler)
    # --------------------------
    ProxyPass        "/"  "http://127.0.0.1:4567/"
    ProxyPassReverse "/"  "http://127.0.0.1:4567/"

    ErrorLog  ${APACHE_LOG_DIR}/iotrack.live-error.log
    CustomLog ${APACHE_LOG_DIR}/iotrack.live-access.log combined
</VirtualHost>

